<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <style>
      :root {
        --base: #ffc600;
        --size: 5px;
        --font: Georgia, serif;
      }
      h1 {
        color: var(--base);
        font-size: var(--size);
        font-family: var(--font);
      }
    </style>
  </head>

  <body>
    <button id="button1" type="button">Undo</button>
    <button id="button2" type="button">Redo</button>
    <section style="margin: 5em; display: flex">
      <div
        style="
          border: 2px solid black;
          padding: 1em;
          margin: 1em;
          height: 10em;
          flex: auto;
        "
      >
        <div id="content"></div>
      </div>
      <div style="margin: 1em">
        <label for="font">Font:</label><br />

        <select onchange="changingFont(this)">
          <option style="font-family: Arial">Arial</option>
          <option style="font-family: 'Times New Roman'">
            Times New Roman
          </option>
          <option style="font-family: Verdana">Verdana</option>
          <option style="font-family: 'Comic Sans MS'">Comic Sans MS</option>
          <option style="font-family: 'Trebuchet MS'">
            Trebuchet MS
          </option></select
        ><br />
        <label for="size">Size:</label>
        <input
          onchange="changingSize(this)"
          type="number"
          id="size"
          name="size"
          min="5"
          max="50"
        />
        <label for="base">Color:</label>
        <input
          onchange="changingColor(this)"
          type="color"
          id="base"
          name="base"
          value="#bada55"
        /><br />
        <button onclick="addElement()">ADD TEXT BOX</button>
      </div>
    </section>

    <script>
      function changingFont(fontstyle) {
        document.getElementById("content").style.fontFamily = fontstyle.value;
      }

      function changingSize(sizestyle) {
        document.getElementById("content").style.fontSize =
          sizestyle.value + "px";
      }

      function changingColor(colorstyle) {
        document.getElementById("content").style.color = colorstyle.value;
      }

      var addElement = function () {
        var newElement = document.createElement("input");
        newElement.setAttribute("class", "dynamic-input");
        newElement.placeholder = "Enter Text.";
        newElement.style.fontSize = "2em";

        newElement.addEventListener("input", function () {
          saveState();
        });

        document.getElementById("content").appendChild(newElement);
      };

      var undoStack = [];
      var redoStack = [];
      var currentState = -1;

      function saveState() {
        currentState++;
        var currentContent = document.getElementById("content").innerHTML;
        if (currentState < undoStack.length) {
          undoStack.splice(
            currentState,
            undoStack.length - currentState,
            currentContent
          );
        } else {
          undoStack.push(currentContent);
        }
        redoStack = [];
        updateButtons();
      }

      function undo() {
        if (currentState > 0) {
          currentState--;
          document.getElementById("content").innerHTML =
            undoStack[currentState];
          redoStack.push(undoStack[currentState]);
          updateButtons();
        }
      }

      function redo() {
        if (currentState < undoStack.length - 1) {
          currentState++;
          document.getElementById("content").innerHTML =
            undoStack[currentState];
          updateButtons();
        }
      }

      function updateButtons() {
        document.getElementById("button1").disabled = currentState === 0;
        document.getElementById("button2").disabled =
          currentState === undoStack.length - 1;
      }

      document.getElementById("button1").addEventListener("click", undo);
      document.getElementById("button2").addEventListener("click", redo);
    </script>
  </body>
</html>
